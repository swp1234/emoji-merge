<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3600813755953882" crossorigin="anonymous"></script>
    <meta name="robots" content="max-image-preview:large">

    <!-- SEO Meta Tags -->
    <title>이모지 머지 - 진화 퍼즐 게임 | DopaBrain</title>
    <meta name="description" content="같은 이모지를 합쳐 진화시키세요! 🥚→🐣→🐥→🦅→🐉→👑 알에서 용까지, 씨앗에서 세계수까지! 4가지 진화 체인. 무료 두뇌 퍼즐 게임!">
    <meta name="keywords" content="이모지 머지, 진화 퍼즐, 합치기 게임, 이모지 게임, 2048, 무료 게임, 브라우저 게임, 캐주얼 게임, emoji merge">
    <meta name="author" content="DopaBrain">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://dopabrain.com/emoji-merge/">

    <!-- Open Graph -->
    <meta property="og:title" content="이모지 머지 - 진화 퍼즐 게임 🦁">
    <meta property="og:description" content="같은 이모지를 합쳐 진화시키세요! 🥚→🐣→🐥→🦅→🐉→👑 4가지 진화 체인에 도전!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dopabrain.com/emoji-merge/">
    <meta property="og:image" content="https://dopabrain.com/emoji-merge/icon-512.svg">
    <meta property="og:locale" content="ko_KR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="이모지 머지 - 진화 퍼즐 게임 🦁">
    <meta name="twitter:description" content="같은 이모지를 합쳐 진화시키세요! 🥚→🐣→🦅→🐉→👑 4가지 진화 체인에 도전!">
    <meta name="twitter:image" content="https://dopabrain.com/emoji-merge/icon-512.svg">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0a0a1a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="icon" type="image/svg+xml" href="icon-192.svg">
    <link rel="apple-touch-icon" href="icon-192.svg">

    <!-- Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "VideoGame",
        "name": "이모지 머지 - 진화 퍼즐",
        "description": "같은 이모지를 합쳐 진화시키는 퍼즐 게임. 알→용, 씨앗→세계수, 물방울→은하, 감정 레벨업 4가지 테마.",
        "url": "https://dopabrain.com/emoji-merge/",
        "genre": "Puzzle",
        "gamePlatform": "Web Browser",
        "operatingSystem": "Any",
        "applicationCategory": "Game",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "KRW"
        }
    }
    </script>

    <link rel="stylesheet" href="css/style.css">
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J8GSWM40TV"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-J8GSWM40TV');</script>
</head>
<body>
    <div class="bg-effects">
        <div class="bg-orb bg-orb-1"></div>
        <div class="bg-orb bg-orb-2"></div>
    </div>

    <div class="container">
        <!-- Ad Banner Top -->
        <div class="ad-banner ad-top">
            <span class="ad-placeholder">AD</span>
        </div>

        <!-- Header -->
        <header class="game-header">
            <div class="header-top">
                <div class="title-area">
                    <h1 class="game-title">Emoji Merge</h1>
                    <p class="game-subtitle">이모지 합쳐 진화시키기</p>
                </div>
                <div class="scores-area">
                    <div class="score-box">
                        <span class="score-label">SCORE</span>
                        <span class="score-value" id="current-score">0</span>
                    </div>
                    <div class="score-box best">
                        <span class="score-label">BEST</span>
                        <span class="score-value" id="best-score">0</span>
                    </div>
                </div>
            </div>
            <div class="header-controls">
                <button class="ctrl-btn" id="btn-new" aria-label="새 게임">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="18" height="18">
                        <path d="M1 4v6h6"></path>
                        <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                    </svg>
                    <span>새 게임</span>
                </button>
                <button class="ctrl-btn" id="btn-undo" aria-label="되돌리기" disabled>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="18" height="18">
                        <path d="M9 14 4 9l5-5"></path>
                        <path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11"></path>
                    </svg>
                    <span>되돌리기</span>
                </button>
                <button class="ctrl-btn" id="btn-chain" aria-label="진화 체인">
                    <span style="font-size:16px">🧬</span>
                    <span>테마</span>
                </button>
            </div>
        </header>

        <!-- Evolution Preview -->
        <div class="evolution-bar" id="evolution-bar">
            <!-- Rendered by JS -->
        </div>

        <!-- Game Board -->
        <main class="game-area">
            <div class="board-container">
                <div class="board" id="game-board">
                    <div class="grid-bg">
                        <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
                        <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
                        <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
                        <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
                    </div>
                    <div class="tiles-container" id="tiles-container"></div>
                </div>
            </div>
            <div id="score-popup-container"></div>
        </main>

        <!-- Game Over Overlay -->
        <div class="overlay hidden" id="game-over-overlay">
            <div class="overlay-content">
                <h2 class="overlay-title">진화 종료!</h2>
                <p class="overlay-score">점수: <span id="final-score">0</span></p>
                <p class="overlay-best">최고 점수: <span id="final-best">0</span></p>
                <p class="overlay-max-evo">최고 진화: <span id="final-max-emoji"></span></p>
                <div class="overlay-title-badge" id="title-badge"></div>
                <div class="overlay-buttons">
                    <button class="btn-primary" id="btn-retry">다시 하기</button>
                    <button class="btn-secondary" id="btn-share">결과 공유</button>
                </div>
            </div>
        </div>

        <!-- Win Overlay -->
        <div class="overlay hidden" id="win-overlay">
            <div class="overlay-content win">
                <h2 class="overlay-title">최종 진화 달성!</h2>
                <div class="win-emoji" id="win-emoji"></div>
                <p class="overlay-score">점수: <span id="win-score">0</span></p>
                <div class="overlay-buttons">
                    <button class="btn-primary" id="btn-continue">계속 진화하기</button>
                    <button class="btn-secondary" id="btn-new-after-win">새 게임</button>
                </div>
            </div>
        </div>

        <!-- Chain Selection Modal -->
        <div class="modal hidden" id="chain-modal">
            <div class="modal-backdrop" id="chain-backdrop"></div>
            <div class="modal-content">
                <h3 class="modal-title">진화 체인 선택</h3>
                <div class="chain-grid" id="chain-grid">
                    <!-- Rendered by JS -->
                </div>
                <button class="modal-close" id="chain-close">닫기</button>
            </div>
        </div>

        <!-- Stats Section -->
        <section class="stats-section">
            <div class="stat-item">
                <span class="stat-number" id="stat-games">0</span>
                <span class="stat-label">게임 수</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="stat-best">0</span>
                <span class="stat-label">최고 점수</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="stat-max-emoji">-</span>
                <span class="stat-label">최고 진화</span>
            </div>
        </section>

        <!-- Premium Button -->
        <section class="premium-section">
            <button class="premium-btn" id="btn-premium">
                <span class="premium-icon">🧠</span>
                <span class="premium-text">AI 게임 분석</span>
                <span class="premium-badge">PRO</span>
            </button>
        </section>

        <!-- Interstitial Ad Modal -->
        <div class="overlay hidden" id="interstitial-overlay">
            <div class="overlay-content interstitial">
                <p class="ad-notice">광고</p>
                <div class="ad-placeholder-large">AD</div>
                <p class="ad-timer"><span id="ad-countdown">5</span>초 후 닫기 가능</p>
                <button class="btn-secondary" id="btn-close-ad" disabled>닫기 (<span id="ad-countdown-btn">5</span>)</button>
            </div>
        </div>

        <!-- Premium Result -->
        <section class="premium-result hidden" id="premium-result">
            <h3 class="premium-result-title">🧠 AI 게임 분석</h3>
            <div id="premium-content"></div>
        </section>

        <!-- How to Play -->
        <section class="how-to-play">
            <h2>게임 방법</h2>
            <div class="how-grid">
                <div class="how-item">
                    <span class="how-icon">👆</span>
                    <p><strong>스와이프</strong>하여 타일 이동</p>
                </div>
                <div class="how-item">
                    <span class="how-icon">🧬</span>
                    <p>같은 이모지를 합쳐 <strong>진화</strong></p>
                </div>
                <div class="how-item">
                    <span class="how-icon">👑</span>
                    <p><strong>최종 진화</strong>를 달성하세요!</p>
                </div>
            </div>
        </section>

        <!-- Recommendation Cards -->
        <section class="rec-section">
            <h2 class="rec-title">이것도 해보세요!</h2>
            <div class="rec-grid">
                <a href="https://dopabrain.com/stack-tower/" class="rec-card">
                    <span class="rec-emoji">🏗️</span>
                    <span class="rec-name">Stack Tower</span>
                    <span class="rec-desc">블록 쌓기 타이밍 게임</span>
                </a>
                <a href="https://dopabrain.com/zigzag-runner/" class="rec-card">
                    <span class="rec-emoji">⚡</span>
                    <span class="rec-name">Zigzag Runner</span>
                    <span class="rec-desc">방향 전환 아케이드</span>
                </a>
                <a href="https://dopabrain.com/emotion-temp/" class="rec-card">
                    <span class="rec-emoji">🌡️</span>
                    <span class="rec-name">감정 온도계</span>
                    <span class="rec-desc">나의 감정 온도는?</span>
                </a>
                <a href="https://dopabrain.com/past-life/" class="rec-card">
                    <span class="rec-emoji">⏳</span>
                    <span class="rec-name">전생 직업</span>
                    <span class="rec-desc">나의 전생 직업은?</span>
                </a>
            </div>
        </section>

        <!-- Footer -->
        <footer class="game-footer">
            <a href="https://dopabrain.com/portal/" class="back-link">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                    <path d="m15 18-6-6 6-6"></path>
                </svg>
                DopaBrain 홈
            </a>
            <p class="copyright">&copy; 2026 DopaBrain</p>
        </footer>

        <!-- Ad Banner Bottom -->
        <div class="ad-banner ad-bottom">
            <span class="ad-placeholder">AD</span>
        </div>
    </div>

    <script src="js/game-data.js"></script>
    <script src="js/app.js"></script>
    <script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('sw.js')
                .then(r => console.log('SW registered:', r.scope))
                .catch(e => console.log('SW registration failed:', e));
        });
    }
    </script>
</body>
</html>
